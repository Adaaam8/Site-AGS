<style>
  @keyframes fadeSlideUp {
    from { opacity: 0; transform: translateY(35px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-up {
    opacity: 0;
    animation: fadeSlideUp 1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  }
  .delay-1 { animation-delay: 0.2s; }
  .delay-2 { animation-delay: 0.5s; }
  .delay-3 { animation-delay: 0.8s; }
</style>

<div class="relative bg-white text-gray-800">

  <!-- Header -->
  <header [class.shadow-md]="isScrolled()" [style.background-color]="isScrolled() ? 'rgba(255,255,255,0.7)' : 'white'" [style.backdrop-filter]="isScrolled() ? 'blur(12px)' : 'none'" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300">
    <div class="container mx-auto px-6 py-4">
      <div class="flex items-center justify-between">
       <div (click)="scrollTo('hero')" class="flex items-center gap-3 text-3xl font-bold text-gray-900 cursor-pointer">
        <img src="assets/logo.png" class="h-12 w-auto"> 
        AGS<span class="text-[#E06732] -ml-1">Concept</span>
      </div>
        <div class="hidden md:flex items-center space-x-8">
          <a (click)="scrollTo('about')" class="text-xl text-gray-800 hover:text-[#E06732] transition-colors duration-200 cursor-pointer">À Propos</a>
          <a (click)="scrollTo('services')" class="text-xl text-gray-800 hover:text-[#E06732] transition-colors duration-200 cursor-pointer">Nos Services</a>
          <a (click)="scrollTo('process')" class="text-xl text-gray-800 hover:text-[#E06732] transition-colors duration-200 cursor-pointer">Notre Processus</a>
          <a (click)="scrollTo('portfolio')" class="text-xl text-gray-800 hover:text-[#E06732] transition-colors duration-200 cursor-pointer">Nos Réalisations</a>
          <button (click)="navigateTo('contact')" class="bg-[#E06732] text-white font-semibold px-5 py-2 rounded-lg hover:bg-[#C85A28] transition-all duration-300 shadow-sm hover:shadow-md">
            Nous Contacter
          </button>
        </div>
        <div class="md:hidden">
          <button (click)="toggleMenu()" class="text-gray-800 focus:outline-none">
            @if (!isMenuOpen()) {
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
            } @else {
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            }
          </button>
        </div>
      </div>
    </div>
    <!-- Mobile Menu -->
    @if (isMenuOpen()) {
      <div class="md:hidden bg-white shadow-lg">
        <a (click)="scrollTo('about')" class="block py-3 px-6 text-gray-800 hover:bg-[#FEF7F4] hover:text-[#C85A28] cursor-pointer">À Propos</a>
        <a (click)="scrollTo('services')" class="block py-3 px-6 text-gray-800 hover:bg-[#FEF7F4] hover:text-[#C85A28] cursor-pointer">Nos Services</a>
        <a (click)="scrollTo('process')" class="block py-3 px-6 text-gray-800 hover:bg-[#FEF7F4] hover:text-[#C85A28] cursor-pointer">Notre Processus</a>
        <a (click)="scrollTo('portfolio')" class="block py-3 px-6 text-gray-800 hover:bg-[#FEF7F4] hover:text-[#C85A28] cursor-pointer">Nos Réalisations</a>
        <a (click)="navigateTo('contact')" class="block py-3 px-6 text-gray-800 hover:bg-[#FEF7F4] hover:text-[#C85A28] cursor-pointer">Nous Contacter</a>
      </div>
    }
  </header>

  @if (activeView() === 'main') {
    <main>
      <!-- Hero Section -->
      <section id="hero" class="relative min-h-screen flex items-center justify-center text-center overflow-hidden">
        <div class="absolute inset-0 z-0">
          <video src="/assets/hero-vid.mp4" autoplay muted loop playsinline class="absolute inset-0 w-full h-full object-cover"></video>
          <div class="absolute inset-0 bg-white/80"></div>
        </div>
        <div class="relative z-10 container mx-auto px-6">
          <h1 class="animate-fade-up delay-1 text-4xl md:text-6xl font-extrabold text-gray-900 leading-tight mb-4">
            Nous créons des <span class="text-[#E06732]">expériences digitales</span> qui inspirent.
          </h1>
          <p class="animate-fade-up delay-2 text-xl md:text-xl text-gray-700 max-w-3xl mx-auto mb-8">
            AGS Concept transforme vos idées en sites web performants et en images de marque inoubliables, pour propulser votre entreprise vers le succès.
          </p>
          <button (click)="scrollTo('services')" class="animate-fade-up delay-3 bg-[#E06732] text-white font-bold py-3 px-8 rounded-lg text-lg hover:bg-[#C85A28] transition-all duration-300 transform hover:scale-105 shadow-lg">
            Découvrir nos services
          </button>
        </div>
      </section>

      <!-- About Section -->
      <section id="about" class="py-20 md:py-32">
        <div class="container mx-auto px-6">
          <div class="grid md:grid-cols-2 gap-6 items-center">
            <div class="flex justify-center">
              <img src="assets/About-bg.jpg" alt="Équipe AGS Concept en réunion" class="rounded-lg shadow-2xl h-auto object-cover" style="width: 550px;">
            </div>
            <div class="text-left -ml-8">
              <h2 class="text-2xl font-bold uppercase text-[#E06732] mb-2">À Propos de Nous</h2>
              <h3 class="text-3xl md:text-3xl font-bold text-gray-900 mb-6">Votre partenaire pour une présence en ligne réussie.</h3>
              <p class="text-lg text-gray-800 mb-4">
                Nous créons des sites web performants et des identités de marque conçus pour attirer, convaincre et convertir.
              </p>
              <p class="text-lg text-gray-800">
                Chez AGS Concept, nous aidons les entreprises à se démarquer dans un environnement digital saturé. Nous concevons des sites web performants et des identités de marque puissantes, pensés pour attirer l’attention, inspirer confiance et générer des résultats concrets.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Services Section -->
      <section id="services" class="py-20 md:py-32 bg-gray-50">
        <div class="container mx-auto px-6 text-center">
          <h2 class="text-2xl font-bold uppercase text-[#E06732] mb-2">Nos Services</h2>
          <h3 class="text-3xl md:text-3xl font-bold text-gray-900 mb-12">Des solutions complètes pour votre succès digital.</h3>
          <div class="grid md:grid-cols-3 gap-8">
            @for (service of services(); track service.title) {
              <div class="bg-white p-8 rounded-lg shadow-lg hover:shadow-2xl transition-shadow duration-300 transform hover:-translate-y-2 relative overflow-hidden">
                  <img [src]="service.image" class="absolute inset-0 w-full h-full object-cover opacity-20">
                  <div class="relative z-10">
                  <div class="flex items-center justify-center h-16 w-16 rounded-full bg-[#FDF0EA] text-[#C85A28] mx-auto mb-6" [innerHTML]="sanitizeHtml(service.icon)"></div>
                  <h4 class="text-xl font-bold text-gray-900 mb-3">{{ service.title }}</h4>
                  <p class="text-gray-800">{{ service.description }}</p>
               </div>
              </div>
            }
          </div>
        </div>
      </section>
      
      <!-- Process Section -->
      <section id="process" class="py-20 md:py-32">
        <div class="container mx-auto px-6">
          <div class="text-center mb-16">
            <h2 class="text-2xl font-bold uppercase text-[#E06732] mb-2 tracking-wider">NOTRE PROCESSUS</h2>
            <h3 class="text-3xl md:text-3xl font-bold text-gray-900">Un parcours en 4 étapes vers l'excellence.</h3>
          </div>
          
          <div class="flex overflow-x-auto snap-x snap-mandatory md:grid md:grid-cols-4 md:gap-8 md:overflow-visible pb-4 md:pb-0 -mx-6 px-6 md:mx-0 md:px-0 space-x-6 md:space-x-0">
            @for (step of processSteps(); track step.step) {
              <div class="flex-shrink-0 w-[80%] sm:w-1/2 md:w-auto snap-center text-center">
                  <div class="flex items-center justify-center h-12 w-12 rounded-full bg-[#E06732] text-white font-bold text-lg mx-auto mb-6">
                    {{ step.step }}
                  </div>
                  <h4 class="text-xl font-bold text-gray-900">{{ step.title }}</h4>
                  <hr class="my-4 border-[#E06732] max-w-[150px] mx-auto">
                  <p class="text-gray-800 text-m">{{ step.description }}</p>
              </div>
            }
          </div>
        </div>
      </section>

      <!-- Portfolio Section -->
      <section id="portfolio" class="py-20 md:py-32 bg-gray-50">
          <div class="container mx-auto px-6">
              <div class="text-center mb-8">
                  <h2 class="text-2xl font-bold uppercase text-[#E06732] mb-2 tracking-wider">NOS RÉALISATIONS</h2>
                  <h3 class="text-3xl md:text-3xl font-bold text-gray-900">Découvrez nos réalisations</h3>
              </div>

              <div class="relative max-w-4xl mx-auto">
                  <!-- Slider container -->
                  <div class="overflow-hidden rounded-lg shadow-2xl">
                      <div class="flex transition-transform duration-500 ease-in-out" [style.transform]="'translateX(-' + currentProjectIndex() * 100 + '%)'">
                          @for (project of projects(); track project.title) {
                              <div class="flex-shrink-0 w-full">
                                  <div class="bg-white">
                                      <img [ngSrc]="project.image" width="800" height="600" [alt]="project.title" class="w-full h-80 object-cover object-top">
                                      <div class="p-6">
                                          <p class="text-sm text-[#C85A28] font-semibold">{{ project.category }}</p>
                                          <h4 class="text-xl font-bold text-gray-900 mt-1">{{ project.title }}</h4>
                                      </div>
                                  </div>
                              </div>
                          }
                      </div>
                  </div>

                  <!-- Prev/Next Buttons -->
                  <button (click)="prevProject()" class="absolute top-1/2 -left-4 md:-left-16 transform -translate-y-1/2 bg-white/80 hover:bg-white rounded-full p-2 transition shadow-md">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-800" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                  </button>
                  <button (click)="nextProject()" class="absolute top-1/2 -right-4 md:-right-16 transform -translate-y-1/2 bg-white/80 hover:bg-white rounded-full p-2 transition shadow-md">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-800" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>
                  </button>

                  <!-- Pagination dots -->
                  <div class="flex justify-center space-x-2 mt-6">
                      @for (project of projects(); track $index; let i = $index) {
                          <button (click)="goToProject(i)" class="w-3 h-3 rounded-full transition" [class.bg-[#E06732]]="i === currentProjectIndex()" [class.bg-gray-300]="i !== currentProjectIndex()"></button>
                      }
                  </div>
              </div>
          </div>
      </section>
    </main>

    <!-- CTA Section -->
    <section class="container mx-auto px-6 relative z-10">
      <div class="bg-[#E06732] rounded-lg shadow-xl p-8 md:p-12 text-center -mb-24 md:-mb-32 max-w-4xl mx-auto">
        <h2 class="text-3xl md:text-4xl font-bold text-white mb-4">Nous contacter</h2>
        <p class="text-md md:text-lg text-[#FFF0E9] max-w-3xl mx-auto mb-8">
          Des questions, des idées ou simplement envie d’échanger ? On est là pour vous répondre et discuter des sujets qui vous intéressent.
        </p>
        <button (click)="navigateTo('contact')" class="bg-transparent border-2 border-white text-white font-semibold px-8 py-3 rounded-lg hover:bg-white hover:text-[#E06732] transition-all duration-300">
          Nous contacter
        </button>
      </div>
    </section>

    } @else {
    <app-contact (backToHome)="navigateTo('main')"></app-contact>
  }

  <!-- Footer visible sur toutes les pages -->
  <footer [class]="activeView() === 'main' ? 'bg-[#0F172A] text-gray-400 pt-36 md:pt-44 pb-12' : 'bg-[#0F172A] text-gray-400 pt-12 pb-12'">
      <div class="container mx-auto px-6">
        <div class="grid md:grid-cols-12 gap-8 mb-8">
          <div class="md:col-span-12 lg:col-span-5">
            <h3 (click)="scrollTo('hero')" class="text-2xl font-bold text-white cursor-pointer flex items-center gap-3">
            <img src="assets/logo.png" class="h-12 w-auto">
            AGS<span class="text-[#E06732] -ml-1">Concept</span>
            </h3>
            <div class="flex space-x-4 mt-4">
              <a href="#" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-[#E06732] transition-colors">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                   <path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.17.054 1.97.24 2.43.403a4.08 4.08 0 011.47.96c.458.458.779.924.96 1.47.163.46.349 1.26.403 2.43.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.054 1.17-.24 1.97-.403 2.43a4.08 4.08 0 01-.96 1.47 4.08 4.08 0 01-1.47.96c-.46.163-1.26.349-2.43.403-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.17-.054-1.97-.24-2.43-.403a4.08 4.08 0 01-1.47-.96 4.08 4.08 0 01-.96-1.47c-.163-.46-.349-1.26-.403-2.43C2.175 15.584 2.163 15.204 2.163 12s.012-3.584.07-4.85c.054-1.17.24-1.97.403-2.43a4.08 4.08 0 01.96-1.47 4.08 4.08 0 011.47-.96c.46-.163 1.26-.349 2.43-.403C8.416 2.175 8.796 2.163 12 2.163M12 0C8.741 0 8.333.014 7.053.072 5.775.13 4.902.333 4.14.63a6.21 6.21 0 00-2.246 1.264A6.21 6.21 0 00.63 4.14C.333 4.902.13 5.775.072 7.053.014 8.333 0 8.741 0 12s.014 3.667.072 4.947c.058 1.278.261 2.151.558 2.913a6.21 6.21 0 001.264 2.246 6.21 6.21 0 002.246 1.264c.762.297 1.635.5 2.913.558C8.333 23.986 8.741 24 12 24s3.667-.014 4.947-.072c1.278-.058 2.151-.261 2.913-.558a6.21 6.21 0 002.246-1.264 6.21 6.21 0 001.264-2.246c.297-.762.5-1.635.558-2.913.058-1.28.072-1.688.072-4.947s-.014-3.667-.072-4.947c-.058-1.278-.261-2.151-.558-2.913a6.21 6.21 0 00-1.264-2.246A6.21 6.21 0 0019.86.63c-.762-.297-1.635-.5-2.913-.558C15.667.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z"/>
                </svg>
              </a>
              <a href="#" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-[#E06732] transition-colors">
                <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" clip-rule="evenodd" /></svg>
              </a>
            </div>
          </div>
          
          <div class="md:col-span-2"></div>

          <div class="md:col-span-4 lg:col-span-2">
            <h4 class="font-semibold text-white mb-4">Nos Services</h4>
            <ul class="space-y-3">
              <li><a (click)="scrollTo('services')" class="hover:text-[#E06732] transition-colors cursor-pointer">Développement Web</a></li>
              <li><a (click)="scrollTo('services')" class="hover:text-[#E06732] transition-colors cursor-pointer">Design & UX/UI</a></li>
              <li><a (click)="scrollTo('services')" class="hover:text-[#E06732] transition-colors cursor-pointer">Référencement (SEO)</a></li>
            </ul>
          </div>

          <div class="md:col-span-4 lg:col-span-2">
            <h4 class="font-semibold text-white mb-4">Nous Connaître</h4>
            <ul class="space-y-3">
              <li><a (click)="scrollTo('about')" class="hover:text-[#E06732] transition-colors cursor-pointer">À propos de nous</a></li>
              <li><a (click)="scrollTo('process')" class="hover:text-[#E06732] transition-colors cursor-pointer">Notre Processus</a></li>
              <li><a (click)="scrollTo('portfolio')" class="hover:text-[#E06732] transition-colors cursor-pointer">Nos réalisations</a></li>
            </ul>
          </div>
        </div>

        <hr class="border-gray-700 my-8">

        <div class="flex flex-col-reverse md:flex-row justify-between items-center text-sm">

          <p class="mt-4 md:mt-0">&copy; {{ currentYear }} AGS Concept. Tous droits réservés.</p>
          <div class="flex space-x-6">
            <a href="#" class="hover:text-[#E06732] transition-colors">Mentions Légales</a>
            <a href="#" class="hover:text-[#E06732] transition-colors">Politique de confidentialité</a>
          </div>
        </div>
      </div>
    </footer>

<!-- Scroll to Top Button -->
@if(isScrolled()) {
  <button (click)="scrollToTop()" class="fixed bottom-8 right-8 bg-[#E06732] text-white rounded-full p-3 shadow-lg hover:bg-[#C85A28] transition-all duration-300 z-50">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>
  </button>
}